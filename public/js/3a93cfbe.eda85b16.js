(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["3a93cfbe"],{"87e1":function(t,e,a){},b2d7:function(t,e,a){"use strict";var n=a("87e1"),i=a.n(n);i.a},d6e6:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",[a("div",{staticClass:"q-pa-md"},[a("q-card",{staticClass:"my-card"},[a("q-card-section",[a("q-form",{on:{submit:t.onSubmitHandler}},[t.isMobileViewport?a("div",{staticClass:"row full-width q-mb-sm"},[a("div",{staticClass:"col-12 text-center"},[t._t("title")],2)]):a("div",{staticClass:"row full-width q-mb-sm"},[a("div",{staticClass:"col-12 col-xs-12 col-sm-12 col-md-7 col-lg-8 col-xl-8"},[t._t("title")],2),a("div",{staticClass:"col-12 col-xs-12 col-sm-12 col-md-5 col-lg-4 col-xl-4"},[a("div",{staticClass:"row q-col-gutter-sm",staticStyle:{display:"flex","justify-content":"flex-end","margin-top":"0px"}},[a("div",{staticStyle:{"justify-content":"center",display:"flex"}},[a("q-btn",{staticStyle:{width:"125px"},attrs:{outline:"",color:"primary",label:"proses ",loading:t.loading},on:{click:t.onSubmitHandler},scopedSlots:t._u([{key:"loading",fn:function(){return[a("q-spinner-hourglass",{staticClass:"on-left"}),t._v("Wait...\n                    ")]},proxy:!0}],null,!1,1516432330)},[a("q-icon",{staticClass:"q-pl-sm",attrs:{name:"replay"}})],1)],1),a("div",{staticStyle:{"justify-content":"center"}},[a("q-btn",{staticStyle:{width:"40px"},attrs:{color:"secondary",outline:""},on:{click:function(e){t.toolbar=!t.toolbar,t.onEmitToolbarHandler}}},[a("q-icon",{class:t.toolbar?"rotate down":"rotate",attrs:{name:"keyboard_arrow_up"}})],1)],1)])])]),a("q-space"),a("transition",{attrs:{name:"fade"}},[a("q-form",{directives:[{name:"show",rawName:"v-show",value:t.toolbar,expression:"toolbar"}],ref:"myForm",staticClass:"row full-width"},[a("div",{staticClass:"row full-width q-mb-sm"},[a("div",{staticClass:"col-12 col-xs-2 col-sm-6 col-md-4 col-lg-4 col-xl-4"},[a("q-select",{ref:"search_column",staticClass:"float-left",staticStyle:{"min-width":"100%"},attrs:{"options-dense":"","emit-value":"","map-options":"",disable:t.loading,options:t.selectedColumns,"option-value":"value",label:"Pilih Waktu","lazy-rules":!1,rules:[t.commonRule]},on:{input:function(e){return t.onSelectHandler(e,"search_column")}},model:{value:t.pagination.search_column,callback:function(e){t.$set(t.pagination,"search_column",e)},expression:"pagination.search_column"}})],1),a("div",{staticClass:"col-12 col-xs-2 col-sm-6 col-md-4 col-lg-4 col-xl-4",style:t.isMobileViewport?"margin-bottom:15px":""},[a("q-select",{ref:"search_interval",staticClass:"float-left",staticStyle:{"min-width":"100%"},attrs:{"options-dense":"","emit-value":"","map-options":"",disable:t.loading,options:t.intervalColumns,"option-value":"value",label:"Pilih Interval","lazy-rules":!1,rules:[t.commonRule]},on:{input:function(e){return t.onSelectHandler(e,"search_interval")}},model:{value:t.pagination.search_interval,callback:function(e){t.$set(t.pagination,"search_interval",e)},expression:"pagination.search_interval"}})],1),a("div",{staticClass:"col-12 col-xs-2 col-sm-6 col-md-4 col-lg-4 col-xl-4"},[a("q-input",{ref:"year",staticClass:"float-right",staticStyle:{"min-width":"100%"},attrs:{type:"number",min:t.minYear,max:t.maxYear,step:"1",disable:t.loading,label:"Pilih Tahun","stack-label":"",hint:t.isMobileViewport?"":"* Required","lazy-rules":!1,rules:[t.commonRule]},model:{value:t.pagination.year,callback:function(e){t.$set(t.pagination,"year",e)},expression:"pagination.year"}})],1)]),a("q-space"),a("div",{staticClass:"row full-width q-mb-sm"},[a("div",{staticClass:"col-12 col-xs-2 col-sm-6 col-md-4 col-lg-4 col-xl-4",style:t.isMobileViewport?"margin-bottom:15px":""},[a("q-select",{ref:"equipment",staticClass:"float-left",staticStyle:{"min-width":"100%"},attrs:{"options-dense":"","emit-value":"","map-options":"","bottom-slots":"",disable:t.loading,options:t.equipmentColumns,"option-value":"value",label:"Pilih Alat","lazy-rules":!1,rules:[t.commonRule]},on:{input:function(e){return t.onSelectHandler(e,"equipment")},filter:t.onFilterEquipmentHandler},scopedSlots:t._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[t._v("No results")])],1)]},proxy:!0}]),model:{value:t.pagination.equipment,callback:function(e){t.$set(t.pagination,"equipment",e)},expression:"pagination.equipment"}})],1),a("div",{staticClass:"col-12 col-xs-2 col-sm-6 col-md-4 col-lg-4 col-xl-4",style:t.isMobileViewport?"margin-bottom:15px":""},[a("q-select",{ref:"location",staticClass:"float-left",staticStyle:{"min-width":"100%"},attrs:{"options-dense":"","emit-value":"","map-options":"",options:t.locationColumns,disable:!(!t.loading&&""!=t.pagination.equipment),"option-value":"value",label:"Pilih Lokasi","lazy-rules":!1,rules:[t.commonRule]},on:{input:function(e){return t.onSelectHandler(e,"location")}},scopedSlots:t._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[t._v("No results")])],1)]},proxy:!0}]),model:{value:t.pagination.location,callback:function(e){t.$set(t.pagination,"location",e)},expression:"pagination.location"}})],1),a("div",{staticClass:"col-12 col-xs-2 col-sm-6 col-md-4 col-lg-4 col-xl-4"},[a("q-select",{ref:"place",staticClass:"float-left",staticStyle:{"min-width":"100%"},attrs:{"options-dense":"","emit-value":"","map-options":"",options:t.placeColumns,disable:!(!t.loading&&""!=t.pagination.location),"option-value":"value",label:"Pilih Letak","lazy-rules":!1,rules:[t.locationRule]},on:{input:function(e){return t.onSelectHandler(e,"place")}},model:{value:t.pagination.place,callback:function(e){t.$set(t.pagination,"place",e)},expression:"pagination.place"}})],1)])],1)],1),t.isMobileViewport?a("div",{staticClass:"row full-width q-mb-sm"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"row q-col-gutter-sm",staticStyle:{display:"flex","justify-content":"center","margin-top":"0px"}},[a("div",[a("q-btn",{attrs:{outline:"",color:"primary",label:"proses ",loading:t.loading},on:{click:t.onSubmitHandler},scopedSlots:t._u([{key:"loading",fn:function(){return[a("q-spinner-hourglass",{staticClass:"on-left"}),t._v("Wait...\n                    ")]},proxy:!0}],null,!1,1516432330)},[a("q-icon",{staticClass:"q-pl-sm",attrs:{name:"replay"}})],1)],1)])])]):t._e(),t.initialSearched?a("div",{staticClass:"row full-width"},[a("q-intersection",{staticClass:"row full-width intersection-child",attrs:{once:t.once,transition:"scale"}},[a("chart-view",{attrs:{_searchColumn:t.pagination.search_column,_chartData:t.get_laporan_custom_chartDataCondition,_fieldInspection:"condition"}},[a("q-toolbar-title",{class:t.isMobileViewport?"text-center":"",staticStyle:{"font-size":"18px"}},[t._v("\n                  Kondisi\n                  "),a("span",{staticClass:"pull-right"},[t._v("("+t._s(t.getCapitalize(t.pagination.search_column))+" "+t._s(t.pagination.search_interval)+" - "+t._s(t.pagination.year)+")")])])],1)],1),a("q-intersection",{staticClass:"row full-width intersection-child",attrs:{once:t.once,transition:"scale"}},[a("chart-view",{attrs:{_searchColumn:t.pagination.search_column,_chartData:t.get_laporan_custom_chartDataGreaseShoot,_fieldInspection:"grease_shoot"}},[a("q-toolbar-title",{class:t.isMobileViewport?"text-center":"",staticStyle:{"font-size":"18px"}},[t._v("\n                  Grease Shoot\n                  "),a("span",{staticClass:"pull-right"},[t._v("("+t._s(t.getCapitalize(t.pagination.search_column))+" "+t._s(t.pagination.search_interval)+" - "+t._s(t.pagination.year)+")")])])],1)],1),a("q-intersection",{staticClass:"row full-width intersection-child",attrs:{once:t.once,transition:"scale"}},[a("chart-view",{attrs:{_searchColumn:t.pagination.search_column,_chartData:t.get_laporan_custom_chartDataWeather,_fieldInspection:"weather"}},[a("q-toolbar-title",{class:t.isMobileViewport?"text-center":"",staticStyle:{"font-size":"18px"}},[t._v("\n                  Cuaca\n                  "),a("span",{staticClass:"pull-right"},[t._v("("+t._s(t.getCapitalize(t.pagination.search_column))+" "+t._s(t.pagination.search_interval)+" - "+t._s(t.pagination.year)+")")])])],1)],1),a("q-intersection",{staticClass:"row full-width intersection-child",attrs:{once:t.once,transition:"scale"}},[a("chart-view",{attrs:{_searchColumn:t.pagination.search_column,_chartData:t.get_laporan_custom_chartDataTemperature,_fieldInspection:"temperature"}},[a("q-toolbar-title",{class:t.isMobileViewport?"text-center":"",staticStyle:{"font-size":"18px"}},[t._v("\n                  Temperatur\n                  "),a("span",{staticClass:"pull-right"},[t._v("("+t._s(t.getCapitalize(t.pagination.search_column))+" "+t._s(t.pagination.search_interval)+" - "+t._s(t.pagination.year)+")")])])],1)],1),a("q-intersection",{staticClass:"row full-width intersection-child",attrs:{once:t.once,transition:"scale"}},[a("chart-view",{attrs:{_searchColumn:t.pagination.search_column,_chartData:t.get_laporan_custom_chartDataRain,_fieldInspection:"rain"}},[a("q-toolbar-title",{class:t.isMobileViewport?"text-center":"",staticStyle:{"font-size":"18px"}},[t._v("\n                  Curah Hujan\n                  "),a("span",{staticClass:"pull-right"},[t._v("("+t._s(t.getCapitalize(t.pagination.search_column))+" "+t._s(t.pagination.search_interval)+" - "+t._s(t.pagination.year)+")")])])],1)],1)],1):t._e()],1)],1),a("div",{attrs:{id:"footnote"}})],1),t._t("info")],2)])},i=[],o=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("456d"),a("c47a")),l=a.n(o),s=(a("c5f6"),a("6b54"),a("551c"),a("06db"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("fragment",[a("p",[a("q-toolbar",{staticStyle:{padding:"0px"}},[t._t("default")],2)],1),a("chart-bar",{staticClass:"row full-width q-mb-sm",attrs:{_newDatasets:t._chartData,_newLabel:t._newLabel,_fieldInspection:t._fieldInspection}})],1)}),r=[],c={props:{_chartData:{default:function(){return[]}},_searchColumn:{default:""},_fieldInspection:{default:""}},computed:{_newLabel:function(){switch(this._searchColumn){case"week":return this.get_laporan_custom_chartLabel("day_name");case"month":for(var t=[],e=0;e<this.get_laporan_custom_chartLabel("week").length;e++){var a=this.get_laporan_custom_chartLabel("week")[e];t.push("Minggu ke "+a)}return t;case"quartal":return this.get_laporan_custom_chartLabel("month_name")}}}},u=c,p=a("2877"),m=Object(p["a"])(u,s,r,!1,null,null,null),d=m.exports;function h(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function g(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?h(a,!0).forEach((function(e){l()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):h(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var f={components:{ChartView:d},inheritAttrs:!0,props:{_store_module:{default:null,type:String},_toolbar:{default:!0}},computed:{intervalColumns:function(){switch(this.pagination.search_column){case"week":return this.weekColumns;case"month":return this.monthColumns;case"quartal":return this.quartalColumns}},weekColumns:function(){for(var t=[],e=0;e<=52;e++)t.push({label:"Minggu ke "+e,value:e,disable:!1,required:1==e,category:e});return t},quartalColumns:function(){for(var t=[],e=1;e<=4;e++)t.push({label:"Kuartal ke "+e,value:e,disable:!1,required:1==e,category:e});return t},monthColumns:function(){for(var t=[],e=1;e<=12;e++){var a=e<=9?"0"+e:e;t.push({label:v(a),value:a,disable:!1,required:1==e,category:e})}return t},columns:function(){return[]},selectedColumns:function(){return[{value:"week",label:"Laporan Mingguan"},{value:"month",label:"Laporan Bulanan"},{value:"quartal",label:"Laporan Kuartal"}]},displayColumns:function(){return[]},separator:function(){return this["get_"+this._store_module+"_separator"]},selected:function(){return this["get_"+this._store_module+"_selected"]},data:function(){return this["get_"+this._store_module+"_data"]}},watch:{"$route.path":function(){},"pagination.year":function(t){t>this.maxYear&&(this.pagination.year=this.maxYear),t<this.minYear&&(this.pagination.year=this.minYear)},equipmentColumns:{handler:function(t,e){var a=this;a.equipmentColumns=a["get_"+a._store_module+"_equipmentColumns"]},deep:!0},locationColumns:{handler:function(t,e){var a=this;a.locationColumns=a["get_"+a._store_module+"_locationColumns"]},deep:!0},visibleColumns:{handler:function(t,e){var a=this;a.actionVuex({data:a.visibleColumns,type:"visibleColumns"})},deep:!0},loading:{handler:function(t,e){var a=this;try{var n=document.getElementById("footnote");if(a.loading)return void(n.innerHTML='\n              <div class="full-width row flex-center text-accent q-gutter-sm" style="padding-bottom: 10px;padding-top: 5px;margin-top: -20px; border-top:1px solid rgba(0, 0, 0, 0.12)">\n              <i aria-hidden="true" class="material-icons q-icon" style="font-size: 2em;">warning</i>\n              <span>Data sedang diproses</span>\n              </div>');n.innerHTML="",a["get_"+a._store_module+"_data"].length<=0&&(n.innerHTML='\n\t\t\t\t  <div class="full-width row flex-center text-accent q-gutter-sm" style="padding-bottom: 10px;padding-top: 5px;margin-top: -20px; border-top:1px solid rgba(0, 0, 0, 0.12)">\n\t\t\t\t  <i aria-hidden="true" class="material-icons q-icon" style="font-size: 2em;">warning</i>\n\t\t\t\t  <span>Tidak ditemukan data yang relevan</span>\n\t\t\t\t  </div>')}catch(i){}},deep:!0},pagination:{handler:function(t,e){var a=this;a.initialSearched=!1;for(var n=a["get_"+this._store_module+"_equipmentColumns"],i=[],o=0;o<n.length;o++)if(n[o].value==e.equipment){for(var l=0;l<n[o].location.length;l++){var s=n[o].location[l];i.push({label:s.name_location,value:s.uuid,uuid:s.uuid,disable:!1,required:0==l,category:l,place:s.place})}a.locationColumns=i,a.actionVuex({data:i,type:"locationColumns"})}a.actionVuex({data:a.pagination,type:"pagination"})},deep:!0}},data:function(){return{once:!0,initialSearched:!0,toolbar:this._toolbar,loading:!1,pagination:{},visibleColumns:[],equipmentColumns:[],locationColumns:[],maxYear:(new Date).getFullYear()+1,minYear:2017,placeColumns:[{label:"Tidak Ada",value:"",disable:!1,category:"1"},{label:"Kanan",value:"A",disable:!1,category:"1"},{label:"Kiri",value:"B",disable:!1,category:"2"}],operators:y}},mounted:function(){var t=this;t._store_module&&(t.pagination=t["get_"+t._store_module+"_pagination"],t.visibleColumns=t["get_"+t._store_module+"_visibleColumns"],t.equipmentColumns=t["get_"+t._store_module+"_equipmentColumns"],t.locationColumns=t["get_"+t._store_module+"_locationColumns"],new Promise((function(e){e(t.requestTransformAxios({url:"/api/v1/library/equipment?type=select",key:"equipment"}))})).then((function(e){t.actionVuex({type:"equipmentColumns",data:e})})))},methods:{locationRule:function(t){return new Promise((function(e,a){t&&t.length>0&&e(!!t.toString()||"* Required"),e(!0)}))},commonRule:function(t){return new Promise((function(e,a){setTimeout((function(){e(!!t.toString()||"* Required")}),1e3)}))},onSubmitHandler:function(){var t=b,e=this;for(var a in t)if(t.hasOwnProperty(a)){var n=t[a];if(e.$refs[a].hasError)return void e.$q.notify({color:"negative",message:"Perhatian! Kolom ".concat(n," wajib diisi"),icon:"report_problem",position:"top",actions:[{label:"Tutup",color:"white",handler:function(){}}]})}e.requestAxios()},onFilterEquipmentHandler:function(t,e,a){var n=this;n.equipmentColumns=n["get_"+n._store_module+"_equipmentColumns"],n.equipmentColumns.length>0?e():new Promise((function(t){t(n.requestTransformAxios({url:"/api/v1/library/equipment?type=select",key:"equipment"}))})).then((function(t){n.equipmentColumns=n.actionVuex({type:"equipmentColumns",data:t}),setTimeout((function(){e()}),1e3)}))},onEmitToolbarHandler:function(){this.$emit("input",toolbar=!toolbar)},onSelectHandler:function(t,e){var a=this;if("search_column"==e&&(a.pagination.search_interval=""),"equipment"==e&&(a.pagination.location="",a.pagination.place=""),"location"==e)for(var n=0;n<a.locationColumns.length;n++){var i=a.locationColumns[n];if(i.value==t)switch(Number(i.place)){case 0:a.placeColumns=[{label:"Tidak Ada",value:"",disable:!1,category:"1"}],a.pagination.place="";break;case 1:a.placeColumns=[{label:"Kanan",value:"A",disable:!1,category:"1"},{label:"Kiri",value:"B",disable:!1,category:"2"}],a.pagination.place="A";break}}a.pagination[e]=t},requestTransformAxios:function(t){var e=this,a=[];return e.$axios.get(t.url).then((function(e){for(var n=0;n<e.data.payload.length;n++)a.push({label:e.data.payload[n]["name_"+t.key],value:e.data.payload[n].uuid,uuid:e.data.payload[n].uuid,disable:!1,required:0==n,category:n,location:e.data.payload[n].location})})).catch((function(t){})),e.actionVuex({data:a,type:t.key+"Columns"}),a},requestAxios:_.debounce((function(){var t=this;t.loading=!0,t.initialSearched=!1,t.$axios.get(t.buildURL()).then((function(e){t.loading=!1,t.initialSearched=!0,t.actionVuex({data:e.data.payload,type:"payload"})})).catch((function(e){t.loading=!1}))}),1e3),actionVuex:function(t){this["set_"+this._store_module]({data:t.data,type:t.type})},buildURL:function(){var t=this.pagination,e=g({},t);return t=e,"/api/v1".concat(t.segment,"?search_column=").concat(t.search_column,"&search_operator=").concat(t.search_operator,"&search_interval=").concat(t.search_interval,"&year=").concat(t.year,"&uuid_tb_equipment=").concat(t.equipment,"&uuid_tb_location=").concat(t.location,"&place_inspection=").concat(t.place)}}},b={search_column:"waktu",search_interval:"interval",equipment:"alat",location:"lokasi",place:"letak"};function v(t){switch(t.toString()){case"01":return"Januari";case"02":return"Februari";case"03":return"Maret";case"04":return"April";case"05":return"Mei";case"06":return"Juni";case"07":return"Juli";case"08":return"Agustus";case"09":return"September";case"10":return"Oktober";case"11":return"November";case"12":return"Desember"}}var y=[{label:"Pilih",value:"*",disable:!0,required:!0,category:"0"},{label:"Sama Dengan",value:"equal_to",disable:!1,category:"1"},{label:"Tidak Sama",value:"not_equal",disable:!1,category:"2"},{label:"Kurang Dari",value:"less_than",disable:!1,category:"3"},{label:"Lebih Besar Dari",value:"greater_than",disable:!1,category:"4"},{label:"Kurang Dari Atau Sama Dengan",value:"less_than_or_equal_to",disable:!1,category:"5"},{label:"Lebih Dari Atau Sama Dengan",value:"greater_than_or_equal_to",disable:!1,category:"6"},{label:"Di Dalam",value:"in",disable:!1,category:"7"},{label:"Di Luar",value:"not_in",disable:!1,category:"8"},{label:"Seperti",value:"like",disable:!1,category:"9"}],C=f,q=(a("b2d7"),Object(p["a"])(C,n,i,!1,null,null,null));e["default"]=q.exports}}]);