(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["5d0caf0c"],{1760:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("fragment",[o("q-page",[o("data-table-library",{attrs:{_store_module:e.store_module,_visibleColumnStatus:!1},scopedSlots:e._u([{key:"row",fn:function(t){return[o("q-tr",[o("q-td",{key:"no",attrs:{props:t.props}},[o("q-avatar",{attrs:{color:"red","text-color":"white",size:"md"}},[o("span",{staticStyle:{"font-size":"14px"}},[e._v(e._s(t.props.row.no))])])],1),o("q-td",{key:"label_equipment",attrs:{props:t.props}},[e._v(e._s(t.props.row.label_equipment))]),o("q-td",{key:"name_equipment",attrs:{props:t.props}},[o("q-chip",{directives:[{name:"pointer",rawName:"v-pointer"}],attrs:{color:"teal","text-color":"white",icon:"edit"}},[o("span",[e._v(e._s(e._f("upper")(t.props.row.name_equipment?t.props.row.name_equipment:e.data_row("name_equipment",t.props.row.__index))))]),e.isMobileViewport?e._e():o("q-tooltip",{attrs:{"content-style":"font-size: 14px",anchor:"center left",self:"center right"}},[e._v("Klik untuk edit")]),o("q-popup-edit",{attrs:{anchor:e.popup_edit,self:"bottom left","content-style":"width:auto;"},on:{save:function(o){return e.onUpdateHandler("name_equipment",t.props.row)}},scopedSlots:e._u([{key:"default",fn:function(n){var r=n.initialValue,a=n.value,i=(n.emitValue,n.validate),s=n.set,l=n.cancel;return[o("q-input",{ref:"name_equipment",attrs:{label:"Nama Equipement","stack-label":"",debounce:"250",maxlength:"50",autofocus:"",counter:"",hint:"",rules:[function(e){return!!e||"Tidak boleh kosong"},function(e){return e.length>2||"Terlalu sedikit char"}],loading:!1},on:{input:function(o){return e.onEmptyHandler(o,"name_equipment",t.props.row.__index)},keypress:function(o){return!o.type.indexOf("key")&&e._k(o.keyCode,"enter",13,o.key,"Enter")?null:e.onUpdateHandler("name_equipment",t.props.row)}},model:{value:t.props.row.name_equipment,callback:function(o){e.$set(t.props.row,"name_equipment",o)},expression:"props.props.row.name_equipment"}},[o("q-btn",{attrs:{flat:"",dense:"",size:"18px",color:"negative",icon:"cancel"},on:{click:function(e){return e.stopPropagation(),l(e)}}},[e.isMobileViewport?e._e():o("q-tooltip",{attrs:{"content-style":"font-size: 14px",anchor:"top middle",self:"bottom middle",offset:[10,10]}},[e._v("Batal")])],1),o("q-btn",{attrs:{flat:"",dense:"",size:"18px",color:"positive",icon:"save",disable:!1===i(a)||r===a},on:{click:function(e){return e.stopPropagation(),s(e)}}},[e.isMobileViewport?e._e():o("q-tooltip",{attrs:{"content-style":"font-size: 14px",anchor:"top middle",self:"bottom middle",offset:[10,10]}},[e._v("Simpan Perubahan")])],1)],1)]}}],null,!0),model:{value:t.props.row.name_equipment,callback:function(o){e.$set(t.props.row,"name_equipment",o)},expression:"props.props.row.name_equipment"}})],1),o("inner-loading",{ref:"spinner_name_equipment_"+t.props.row.__index,attrs:{_visible:!1}})],1),o("q-td",{key:"created_at",attrs:{props:t.props}},[e._v(e._s(t.props.row.created_at))]),o("q-td",{key:"updated_at",attrs:{props:t.props}},[e._v(e._s(t.props.row.updated_at))])],1)]}}])},[o("q-toolbar",{staticStyle:{padding:"0px"},attrs:{slot:"title"},slot:"title"},[e.isMobileViewport?e._e():o("q-icon",{directives:[{name:"pointer",rawName:"v-pointer"}],attrs:{name:"keyboard_arrow_left",size:"lg"},on:{click:function(t){return e.$router.back()}}},[o("q-tooltip",{attrs:{"content-style":"font-size: 14px",anchor:"center left",self:"center right"}},[e._v("Kembali")])],1),o("q-toolbar-title",[e._v("Daftar Alat")])],1),o("info-library-alat",{attrs:{slot:"info"},slot:"info"})],1),o("scroll-to-top")],1)],1)},r=[],a=o("5c56"),i={mixins:[a["a"]],data:function(){return{error:!1,store_module:"aset_equipment",default_data:{init:!1,data:[]},popup_edit:this.isMobileViewport?"bottom center":"bottom left"}},computed:{data_row:function(){return function(e,t){for(var o=this.default_data,n=0;n<o.length;n++)if(n==t){var r=o[n];return r[e]}}}},watch:{"this.get_aset_equipment_data":function(e){this.default_data.init||(this.default_data.data=this.get_aset_equipment_data,this.default_data.init=!0)}},mounted:function(){this.default_data=this.get_aset_equipment_data},methods:{onUpdateHandler:function(e,t){var o=this;o.$refs[e].validate(),o.$refs[e].hasError?o.error||(o.error=!0,o.$q.notify({color:"warning",message:"Peringatan! Data update tidak boleh kosong"})):(o.error=!1,o.requestAxios(t))},onEmptyHandler:function(e,t,o){if(e)for(var n=this.default_data,r=0;r<n.length;r++)if(r==o){var a=n[r];a[t]=e,console.log("onUpdateHandler",e,a[t])}},requestAxios:_.debounce((function(e){var t=this;t.$refs["spinner_name_equipment_"+e.__index]._data.visible=!0,t.$axios.put("/api/v1/library/equipment",e).then((function(o){t.$refs["spinner_name_equipment_"+e.__index]._data.visible=!1,t.set_aset_equipment({type:"replace",data:o.data.payload})})).catch((function(o){t.$refs["spinner_name_equipment_"+e.__index]._data.visible=!1}))}),250)}},s=i,l=o("2877"),p=Object(l["a"])(s,n,r,!1,null,null,null);t["default"]=p.exports},"5c56":function(e,t,o){"use strict";o("c5f6"),o("a481"),o("7f7f");var n={beforeMount:function(){if(console.log(this.get_credentials),this.get_user||"login"==this.$route.name)if(this.get_credentials.logged||"login"==this.$route.name){if(null==this.get_credentials.role){if("login"!=this.$route.name)return void this.$router.replace({name:"login"})}else if(void 0!=this.$route.meta.roles){for(var e=0;e<this.$route.meta.roles.length;e++){var t=this.$route.meta.roles[e];if(Number(t)==Number(this.get_credentials.role))return void console.log(this.$route.meta.roles,Number(t),Number(this.get_credentials.role))}"laporan"!=this.$route.name&&this.$router.replace({name:"laporan",replace:!0})}}else this.$router.replace({name:"login"});else this.$router.replace({name:"login"})}};t["a"]=n}}]);