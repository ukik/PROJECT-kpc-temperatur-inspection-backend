(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["5d09e9da"],{"47c9":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("fragment",[o("q-page",[o("data-table-library",{attrs:{_store_module:t.store_module,_visibleColumnStatus:!1},scopedSlots:t._u([{key:"row",fn:function(e){return[o("q-tr",[o("q-td",{key:"no",attrs:{props:e.props}},[o("q-avatar",{attrs:{color:"red","text-color":"white",size:"md"}},[o("span",{staticStyle:{"font-size":"14px"}},[t._v(t._s(e.props.row.no))])])],1),o("q-td",{key:"label_location",attrs:{props:e.props}},[t._v(t._s(e.props.row.label_location))]),o("q-td",{key:"name_location",attrs:{props:e.props}},[o("q-chip",{directives:[{name:"pointer",rawName:"v-pointer"}],attrs:{color:"teal","text-color":"white",icon:"edit"}},[o("span",[t._v(t._s(t._f("upper")(e.props.row.name_location?e.props.row.name_location:t.data_row("name_location",e.props.row.__index))))]),t.isMobileViewport?t._e():o("q-tooltip",{attrs:{"content-style":"font-size: 14px",anchor:"center left",self:"center right"}},[t._v("Klik untuk edit")]),o("q-popup-edit",{attrs:{anchor:t.popup_edit,self:"bottom left","content-style":"width:auto;"},on:{save:function(o){return t.onUpdateHandler("name_location",e.props.row)}},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.initialValue,r=a.value,i=(a.emitValue,a.validate),s=a.set,l=a.cancel;return[o("q-input",{ref:"name_location",attrs:{label:"Nama Equipement","stack-label":"",debounce:"250",maxlength:"50",autofocus:"",counter:"",hint:"",rules:[function(t){return!!t||"Tidak boleh kosong"},function(t){return t.length>2||"Terlalu sedikit char"}],loading:!1},on:{input:function(o){return t.onEmptyHandler(o,"name_location",e.props.row.__index)},keypress:function(o){return!o.type.indexOf("key")&&t._k(o.keyCode,"enter",13,o.key,"Enter")?null:t.onUpdateHandler("name_location",e.props.row)}},model:{value:e.props.row.name_location,callback:function(o){t.$set(e.props.row,"name_location",o)},expression:"props.props.row.name_location"}},[o("q-btn",{attrs:{flat:"",dense:"",size:"18px",color:"negative",icon:"cancel"},on:{click:function(t){return t.stopPropagation(),l(t)}}},[t.isMobileViewport?t._e():o("q-tooltip",{attrs:{"content-style":"font-size: 14px",anchor:"top middle",self:"bottom middle",offset:[10,10]}},[t._v("Batal")])],1),o("q-btn",{attrs:{flat:"",dense:"",size:"18px",color:"positive",icon:"save",disable:!1===i(r)||n===r},on:{click:function(t){return t.stopPropagation(),s(t)}}},[t.isMobileViewport?t._e():o("q-tooltip",{attrs:{"content-style":"font-size: 14px",anchor:"top middle",self:"bottom middle",offset:[10,10]}},[t._v("Simpan Perubahan")])],1)],1)]}}],null,!0),model:{value:e.props.row.name_location,callback:function(o){t.$set(e.props.row,"name_location",o)},expression:"props.props.row.name_location"}})],1),o("inner-loading",{ref:"spinner_name_location_"+e.props.row.__index,attrs:{_visible:!1}})],1),o("q-td",{key:"created_at",attrs:{props:e.props}},[t._v(t._s(e.props.row.created_at))]),o("q-td",{key:"updated_at",attrs:{props:e.props}},[t._v(t._s(e.props.row.updated_at))])],1)]}}])},[o("q-toolbar",{staticStyle:{padding:"0px"},attrs:{slot:"title"},slot:"title"},[t.isMobileViewport?t._e():o("q-icon",{directives:[{name:"pointer",rawName:"v-pointer"}],attrs:{name:"keyboard_arrow_left",size:"lg"},on:{click:function(e){return t.$router.back()}}},[o("q-tooltip",{attrs:{"content-style":"font-size: 14px",anchor:"center left",self:"center right"}},[t._v("Kembali")])],1),o("q-toolbar-title",[t._v("Daftar Lokasi")])],1),o("info-library-lokasi",{attrs:{slot:"info"},slot:"info"})],1),o("scroll-to-top")],1)],1)},n=[],r=o("5c56"),i={mixins:[r["a"]],data:function(){return{error:!1,store_module:"aset_location",default_data:{init:!1,data:[]},popup_edit:this.isMobileViewport?"bottom center":"bottom left"}},computed:{data_row:function(){return function(t,e){for(var o=this.default_data,a=0;a<o.length;a++)if(a==e){var n=o[a];return n[t]}}}},watch:{"this.get_aset_location_data":function(t){this.default_data.init||(this.default_data.data=this.get_aset_location_data,this.default_data.init=!0)}},mounted:function(){this.default_data=this.get_aset_location_data},methods:{onUpdateHandler:function(t,e){var o=this;o.$refs[t].validate(),o.$refs[t].hasError?o.error||(o.error=!0,o.$q.notify({color:"warning",message:"Peringatan! Data update tidak boleh kosong"})):(o.error=!1,o.requestAxios(e))},onEmptyHandler:function(t,e,o){if(t)for(var a=this.default_data,n=0;n<a.length;n++)if(n==o){var r=a[n];r[e]=t}},requestAxios:_.debounce((function(t){var e=this;e.$refs["spinner_name_location_"+t.__index]._data.visible=!0,e.$axios.put("/api/v1/library/location",t).then((function(o){e.$refs["spinner_name_location_"+t.__index]._data.visible=!1,e.set_aset_location({type:"replace",data:o.data.payload})})).catch((function(o){e.$refs["spinner_name_location_"+t.__index]._data.visible=!1}))}),250)}},s=i,l=o("2877"),p=Object(l["a"])(s,a,n,!1,null,null,null);e["default"]=p.exports},"5c56":function(t,e,o){"use strict";o("c5f6"),o("a481"),o("7f7f");var a={beforeMount:function(){if(this.get_user||"login"==this.$route.name)if(this.get_credentials.logged||"login"==this.$route.name){if(null==this.get_credentials.role){if("login"!=this.$route.name)return void this.$router.replace({name:"login"})}else if(void 0!=this.$route.meta.roles){for(var t=0;t<this.$route.meta.roles.length;t++){var e=this.$route.meta.roles[t];if(Number(e)==Number(this.get_credentials.role))return}"laporan"!=this.$route.name&&this.$router.replace({name:"laporan",replace:!0})}}else this.$router.replace({name:"login"});else this.$router.replace({name:"login"})}};e["a"]=a}}]);