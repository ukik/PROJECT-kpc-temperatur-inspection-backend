(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["5d0caf0c"],{1760:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("fragment",[n("q-page",[n("data-table-library",{attrs:{_store_module:e.store_module,_visibleColumnStatus:!1},scopedSlots:e._u([{key:"row",fn:function(t){return[n("q-tr",[n("q-td",{key:"no",attrs:{props:t.props}},[n("q-avatar",{attrs:{color:"red","text-color":"white",size:"md"}},[n("span",{staticStyle:{"font-size":"14px"}},[e._v(e._s(t.props.row.no))])])],1),n("q-td",{key:"label_equipment",attrs:{props:t.props}},[e._v(e._s(t.props.row.label_equipment))]),n("q-td",{key:"name_equipment",attrs:{props:t.props}},[n("q-chip",{directives:[{name:"pointer",rawName:"v-pointer"}],attrs:{color:"teal","text-color":"white",icon:"edit"}},[n("span",[e._v(e._s(e._f("upper")(t.props.row.name_equipment?t.props.row.name_equipment:e.data_row("name_equipment",t.props.row.__index))))]),e.isMobileViewport?e._e():n("q-tooltip",{attrs:{"content-style":"font-size: 14px",anchor:"center left",self:"center right"}},[e._v("Klik untuk edit")]),n("q-popup-edit",{attrs:{anchor:e.popup_edit,self:"bottom left","content-style":"width:auto;"},on:{save:function(n){return e.onUpdateHandler("name_equipment",t.props.row)}},scopedSlots:e._u([{key:"default",fn:function(o){var r=o.initialValue,a=o.value,i=(o.emitValue,o.validate),s=o.set,p=o.cancel;return[n("q-input",{ref:"name_equipment",attrs:{label:"Nama Equipement","stack-label":"",debounce:"250",maxlength:"50",autofocus:"",counter:"",hint:"",rules:[function(e){return!!e||"Tidak boleh kosong"},function(e){return e.length>2||"Terlalu sedikit char"}],loading:!1},on:{input:function(n){return e.onEmptyHandler(n,"name_equipment",t.props.row.__index)},keypress:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.onUpdateHandler("name_equipment",t.props.row)}},model:{value:t.props.row.name_equipment,callback:function(n){e.$set(t.props.row,"name_equipment",n)},expression:"props.props.row.name_equipment"}},[n("q-btn",{attrs:{flat:"",dense:"",size:"18px",color:"negative",icon:"cancel"},on:{click:function(e){return e.stopPropagation(),p(e)}}},[e.isMobileViewport?e._e():n("q-tooltip",{attrs:{"content-style":"font-size: 14px",anchor:"top middle",self:"bottom middle",offset:[10,10]}},[e._v("Batal")])],1),n("q-btn",{attrs:{flat:"",dense:"",size:"18px",color:"positive",icon:"save",disable:!1===i(a)||r===a},on:{click:function(e){return e.stopPropagation(),s(e)}}},[e.isMobileViewport?e._e():n("q-tooltip",{attrs:{"content-style":"font-size: 14px",anchor:"top middle",self:"bottom middle",offset:[10,10]}},[e._v("Simpan Perubahan")])],1)],1)]}}],null,!0),model:{value:t.props.row.name_equipment,callback:function(n){e.$set(t.props.row,"name_equipment",n)},expression:"props.props.row.name_equipment"}})],1),n("inner-loading",{ref:"spinner_name_equipment_"+t.props.row.__index,attrs:{_visible:!1}})],1),n("q-td",{key:"created_at",attrs:{props:t.props}},[e._v(e._s(t.props.row.created_at))]),n("q-td",{key:"updated_at",attrs:{props:t.props}},[e._v(e._s(t.props.row.updated_at))])],1)]}}])},[n("q-toolbar",{staticStyle:{padding:"0px"},attrs:{slot:"title"},slot:"title"},[e.isMobileViewport?e._e():n("q-icon",{directives:[{name:"pointer",rawName:"v-pointer"}],attrs:{name:"keyboard_arrow_left",size:"lg"},on:{click:function(t){return e.$router.back()}}},[n("q-tooltip",{attrs:{"content-style":"font-size: 14px",anchor:"center left",self:"center right"}},[e._v("Kembali")])],1),n("q-toolbar-title",[e._v("Daftar Alat")])],1),n("info-library-alat",{attrs:{slot:"info"},slot:"info"})],1),n("scroll-to-top")],1)],1)},r=[],a=n("5c56"),i={mixins:[a["a"]],data:function(){return{error:!1,store_module:"aset_equipment",default_data:{init:!1,data:[]},popup_edit:this.isMobileViewport?"bottom center":"bottom left"}},computed:{data_row:function(){return function(e,t){for(var n=this.default_data,o=0;o<n.length;o++)if(o==t){var r=n[o];return r[e]}}}},watch:{"this.get_aset_equipment_data":function(e){this.default_data.init||(this.default_data.data=this.get_aset_equipment_data,this.default_data.init=!0)}},mounted:function(){this.default_data=this.get_aset_equipment_data},methods:{onUpdateHandler:function(e,t){var n=this;n.$refs[e].validate(),n.$refs[e].hasError?n.error||(n.error=!0,n.$q.notify({color:"warning",message:"Peringatan! Data update tidak boleh kosong"})):(n.error=!1,n.requestAxios(t))},onEmptyHandler:function(e,t,n){if(e)for(var o=this.default_data,r=0;r<o.length;r++)if(r==n){var a=o[r];a[t]=e}},requestAxios:_.debounce((function(e){var t=this;t.$refs["spinner_name_equipment_"+e.__index]._data.visible=!0,t.$axios.put("/api/v1/library/equipment",e).then((function(n){t.$refs["spinner_name_equipment_"+e.__index]._data.visible=!1,t.set_aset_equipment({type:"replace",data:n.data.payload})})).catch((function(n){t.$refs["spinner_name_equipment_"+e.__index]._data.visible=!1}))}),250)}},s=i,p=n("2877"),l=Object(p["a"])(s,o,r,!1,null,null,null);t["default"]=l.exports},"5c56":function(e,t,n){"use strict";n("c5f6"),n("a481"),n("7f7f");var o={beforeMount:function(){if(this.get_user||"login"==this.$route.name)if(this.get_credentials.logged||"login"==this.$route.name){if(null==this.get_credentials.role){if("login"!=this.$route.name)return void this.$router.replace({name:"login"})}else if(void 0!=this.$route.meta.roles){for(var e=0;e<this.$route.meta.roles.length;e++){var t=this.$route.meta.roles[e];if(Number(t)==Number(this.get_credentials.role))return}"laporan"!=this.$route.name&&this.$router.replace({name:"laporan",replace:!0})}}else this.$router.replace({name:"login"});else this.$router.replace({name:"login"})}};t["a"]=o}}]);